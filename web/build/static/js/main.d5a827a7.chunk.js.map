{"version":3,"sources":["utils/momentDateFormat.js","components/MessageForm/EditMessageForm.js","components/MessageForm/AddMessageForm.js","components/MessageItem/index.js","services/api.js","App.js","index.js"],"names":["dateFormat","date","pattern","newDate","substring","moment","locale","format","EditMessageForm","updateDailyMessage","currentDailyMessage","setCurrentDailyMessage","setEditing","useState","author","setAuthor","message","setDailyMessage","setDateMessage","useEffect","name","onSubmit","e","preventDefault","id","className","htmlFor","type","required","value","onChange","target","maxLength","dateMessageFormat","MessageForm","addDailyMessage","MessageItem","data","deleteDailyMessage","editRow","href","onClick","icon","faPencilAlt","faTrashAlt","api","axios","create","baseURL","App","dailyMessages","setDailyMessages","editing","_id","dailyMessage","dateMessage","a","post","response","delete","filter","dm","updatedDailyMessage","put","map","editingDailyMessage","get","loadDailyMessages","AddMessageForm","item","key","ReactDOM","render","document","getElementById"],"mappings":"mVAUeA,MARf,SAAoBC,EAAMC,GACtB,IAAKD,EACD,MAAO,GAEX,IAAME,EAAUF,EAAKG,UAAU,EAAG,IAClC,OAAOC,IAAOF,GAASG,OAAO,SAASC,OAAOL,ICmEnCM,MAtEf,YAA2G,IAAhFC,EAA+E,EAA/EA,mBAA4CC,GAAmC,EAA3DC,uBAA2D,EAAnCD,qBAAqBE,EAAc,EAAdA,WAAc,EAC1EC,mBAASH,EAAoBI,QAD6C,mBAC/FA,EAD+F,KACvFC,EADuF,OAEnEF,mBAASH,EAAoBM,SAFsC,mBAE/FA,EAF+F,KAEtFC,EAFsF,OAGvEJ,mBAASH,EAAoBT,MAH0C,mBAG/FA,EAH+F,KAGzFiB,EAHyF,KAkCtG,OA7BAC,qBAAU,WACNF,EAAgBP,EAAoBM,SACpCD,EAAUL,EAAoBI,QAC9BI,EAAeR,EAAoBT,QAEnC,CAACS,IAyBD,oCACI,0BAAMU,KAAK,aAAaC,SAxBhC,SAA4BC,GACxBA,EAAEC,iBAEFd,EAAmBC,EAAoBc,GACnC,CACIA,GAAId,EAAoBc,GACxBV,SACAE,UACAf,SAGRW,GAAW,GACXG,EAAU,IACVE,EAAgB,IAChBC,EAAe,MAWP,yBAAKO,UAAU,cACX,2BAAOC,QAAQ,UAAf,WACA,2BAAOC,KAAK,OACRH,GAAG,SACHJ,KAAK,SACLQ,UAAQ,EACRC,MAAOf,EACPgB,SAAU,SAAAR,GAAC,OAAIP,EAAUO,EAAES,OAAOF,WAE1C,yBAAKJ,UAAU,cACX,2BAAOC,QAAQ,gBAAf,cACA,8BAAUN,KAAK,eACXI,GAAG,eACHI,UAAQ,EACRC,MAAOb,EACPc,SAAU,SAAAR,GAAC,OAAIL,EAAgBK,EAAES,OAAOF,WAEhD,yBAAKJ,UAAU,cACX,2BAAOC,QAAQ,eAAf,UACA,2BAAOC,KAAK,OACRK,UAAU,KACVR,GAAG,cACHJ,KAAK,cACLQ,UAAQ,EACRC,MA/BpB,SAA2B5B,GACvB,OAAOD,EAAWC,EAAM,cA8BDgC,CAAkBhC,GACzB6B,SAAU,SAAAR,GAAC,OAAIJ,EAAeI,EAAES,OAAOF,WAE/C,4BAAQF,KAAK,UAAb,aCXDO,MAtDf,YAA2C,IAApBC,EAAmB,EAAnBA,gBAAmB,EACVtB,mBAAS,IADC,mBAC/BC,EAD+B,KACvBC,EADuB,OAEHF,mBAAS,IAFN,mBAE/BG,EAF+B,KAEtBC,EAFsB,OAGPJ,mBAAS,IAHF,mBAG/BZ,EAH+B,KAGzBiB,EAHyB,KAmBtC,OACI,oCACI,0BAAME,KAAK,aAAaC,SAhBhC,SAAyBC,GACrBA,EAAEC,iBAEFY,EAAgB,CACZrB,SACAE,UACAf,SAGJc,EAAU,IACVE,EAAgB,IAChBC,EAAe,MAMP,yBAAKO,UAAU,cACX,2BAAOC,QAAQ,UAAf,WACA,2BAAOC,KAAK,OACRH,GAAG,SACHJ,KAAK,SACLQ,UAAQ,EACRC,MAAOf,EACPgB,SAAU,SAAAR,GAAC,OAAIP,EAAUO,EAAES,OAAOF,WAE1C,yBAAKJ,UAAU,cACX,2BAAOC,QAAQ,WAAf,cACA,8BAAUN,KAAK,UACXI,GAAG,UACHI,UAAQ,EACRC,MAAOb,EACPc,SAAU,SAAAR,GAAC,OAAIL,EAAgBK,EAAES,OAAOF,WAEhD,yBAAKJ,UAAU,cACX,2BAAOC,QAAQ,QAAf,UACA,2BAAOC,KAAK,OACRH,GAAG,OACHJ,KAAK,OACLQ,UAAQ,EACRC,MAAO5B,EACP6B,SAAU,SAAAR,GAAC,OAAIJ,EAAeI,EAAES,OAAOF,WAE/C,4BAAQF,KAAK,UAAb,a,uBCJDS,MAzCf,YAA6D,IAE9BnC,EAFRoC,EAAqC,EAArCA,KAAMC,EAA+B,EAA/BA,mBAAoBC,EAAW,EAAXA,QAkB7C,OACI,oCACI,wBAAId,UAAU,iBACV,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,WACX,uBAAGE,KAAK,SAASa,KAAK,IAAIC,QAX9C,SAA2BnB,GACvBA,EAAEC,iBAEFgB,EAAQF,KASY,kBAAC,IAAD,CAAiBK,KAAMC,IAAalB,UAAU,gBAGtD,yBAAKA,UAAU,aACX,uBAAGE,KAAK,SAASa,KAAK,IAAIC,QAtB9C,SAA6BnB,GACzBA,EAAEC,iBAEFe,EAAmBD,EAAKb,MAoBJ,kBAAC,IAAD,CAAiBkB,KAAME,IAAYnB,UAAU,iBAIzD,2BAAIY,EAAKrB,SACT,0BAAMI,KAAK,cAAciB,EAAKvB,QAC9B,0BAAMM,KAAK,aAjCInB,EAiC0BoC,EAAKpC,KAhC/CD,EAAWC,EAAM,mB,QCHjB4C,E,OAJHC,EAAMC,OAAO,CACrBC,QAAS,qE,kBC6FEC,MArFf,WAAgB,IAAD,EAC6BpC,mBAAS,IADtC,mBACNqC,EADM,KACSC,EADT,OAEiBtC,oBAAS,GAF1B,mBAENuC,EAFM,KAEGxC,EAFH,OAIyCC,mBAD7B,CAAEwC,IAAK,KAAMvC,OAAQ,GAAIwC,aAAc,GAAIC,YAAa,KAHpE,mBAIN7C,EAJM,KAIeC,EAJf,iDAgBb,WAA+B0B,GAA/B,eAAAmB,EAAA,sEACyBX,EAAIY,KAAK,IAAK,CACnC,OAAUpB,EAAKvB,OACf,QAAWuB,EAAKrB,QAChB,KAAQqB,EAAKpC,OAJjB,OACQyD,EADR,OAOEP,EAAiB,GAAD,mBAAKD,GAAL,CAAoBQ,EAASrB,QAP/C,4CAhBa,+BA0BEC,EA1BF,8EA0Bb,WAAkCd,GAAlC,SAAAgC,EAAA,sEACQX,EAAIc,OAAJ,WAAenC,IADvB,OAGE2B,EAAiBD,EAAcU,QAAO,SAAAC,GAAE,OAAIA,EAAGrC,KAAOA,MACtDZ,GAAW,GAJb,4CA1Ba,kEAiCb,WAAkCY,EAAIsC,GAAtC,SAAAN,EAAA,sEACQX,EAAIkB,IAAJ,WAAYvC,GAAM,CACtB,OAAUsC,EAAoBhD,OAC9B,QAAWgD,EAAoB9C,QAC/B,KAAQ8C,EAAoB7D,OAJhC,OAOEkD,EAAiBD,EAAcc,KAAI,SAAAH,GAAE,OAAKA,EAAGrC,KAAOA,EAAKsC,EAAsBD,MAPjF,4CAjCa,sBA2Cb,SAAStB,EAAQ0B,GACfrD,GAAW,GACXD,EAAuB,CACrBa,GAAIyC,EAAoBzC,GACxBV,OAAQmD,EAAoBnD,OAC5Bb,KAAMgE,EAAoBhE,KAC1Be,QAASiD,EAAoBjD,UAIjC,OA/CAG,qBAAU,WAAM,4CACd,4BAAAqC,EAAA,sEACyBX,EAAIqB,IAAI,KADjC,OACQR,EADR,OAGEP,EAAiBO,EAASrB,MAH5B,4CADc,uBAAC,WAAD,wBAOd8B,MAyCA,oCACE,yBAAK3C,GAAG,OACN,8BACE,yBAAKC,UAAU,UACb,kEACE2B,EAKE,kBAAC,EAAD,CACE3C,mBAjEH,8CAkEGE,uBAAwBA,EACxBD,oBAAqBA,EACrBE,WAAYA,IARf,oCACC,kBAACwD,EAAD,CAAgBjC,gBA7DjB,iDAwEP,yBAAKV,UAAU,WACb,4BAEIyB,EAAcc,KAAI,SAAAK,GAAI,OACpB,kBAAC,EAAD,CAAaC,IAAKD,EAAK7C,GAAIa,KAAMgC,EAAM/B,mBAAoBA,EAAoBC,QAASA,YCnFxGgC,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.d5a827a7.chunk.js","sourcesContent":["import moment from 'moment';\r\n\r\nfunction dateFormat(date, pattern) {\r\n    if (!date)\r\n        return '';\r\n\r\n    const newDate = date.substring(0, 10);\r\n    return moment(newDate).locale('pt-BR').format(pattern);\r\n}\r\n\r\nexport default dateFormat;","import React, { useState, useEffect } from 'react';\r\nimport './style.css';\r\nimport dateFormat from '../../utils/momentDateFormat';\r\n\r\nfunction EditMessageForm({ updateDailyMessage, setCurrentDailyMessage, currentDailyMessage, setEditing }) {\r\n    const [author, setAuthor] = useState(currentDailyMessage.author);\r\n    const [message, setDailyMessage] = useState(currentDailyMessage.message);;\r\n    const [date, setDateMessage] = useState(currentDailyMessage.date);\r\n\r\n    useEffect(() => {\r\n        setDailyMessage(currentDailyMessage.message)\r\n        setAuthor(currentDailyMessage.author)\r\n        setDateMessage(currentDailyMessage.date)\r\n    },\r\n        [currentDailyMessage])\r\n\r\n    function handleUpdateSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        updateDailyMessage(currentDailyMessage.id,\r\n            {\r\n                id: currentDailyMessage.id,\r\n                author,\r\n                message,\r\n                date\r\n            });\r\n\r\n        setEditing(false);\r\n        setAuthor('');\r\n        setDailyMessage('');\r\n        setDateMessage('');\r\n        // setCurrentDailyMessage({});\r\n    }\r\n\r\n    function dateMessageFormat(date) {\r\n        return dateFormat(date, 'YYYY-MM-DD');\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <form name=\"topBoxForm\" onSubmit={handleUpdateSubmit}>\r\n                <div className=\"inputBlock\">\r\n                    <label htmlFor=\"author\">Autor: </label>\r\n                    <input type=\"text\"\r\n                        id=\"author\"\r\n                        name=\"author\"\r\n                        required\r\n                        value={author}\r\n                        onChange={e => setAuthor(e.target.value)} />\r\n                </div>\r\n                <div className=\"inputBlock\">\r\n                    <label htmlFor=\"dailyMessage\">Mensagem: </label>\r\n                    <textarea name=\"dailyMessage\"\r\n                        id=\"dailyMessage\"\r\n                        required\r\n                        value={message}\r\n                        onChange={e => setDailyMessage(e.target.value)} />\r\n                </div>\r\n                <div className=\"inputBlock\">\r\n                    <label htmlFor=\"dateMessage\">Data: </label>\r\n                    <input type=\"Date\"\r\n                        maxLength=\"10\"\r\n                        id=\"dateMessage\"\r\n                        name=\"dateMessage\"\r\n                        required\r\n                        value={dateMessageFormat(date)}\r\n                        onChange={e => setDateMessage(e.target.value)} />\r\n                </div>\r\n                <button type=\"submit\">Salvar</button>\r\n            </form>\r\n        </>\r\n    )\r\n};\r\n\r\nexport default EditMessageForm;","import React, { useState } from 'react';\r\nimport './style.css';\r\n\r\nfunction MessageForm({ addDailyMessage }) {\r\n    const [author, setAuthor] = useState('');\r\n    const [message, setDailyMessage] = useState('');;\r\n    const [date, setDateMessage] = useState('');\r\n\r\n    function handleAddSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        addDailyMessage({\r\n            author,\r\n            message,\r\n            date\r\n        });\r\n\r\n        setAuthor('');\r\n        setDailyMessage('');\r\n        setDateMessage('');\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <form name=\"topBoxForm\" onSubmit={handleAddSubmit}>\r\n                <div className=\"inputBlock\">\r\n                    <label htmlFor=\"author\">Autor: </label>\r\n                    <input type=\"text\"\r\n                        id=\"author\"\r\n                        name=\"author\"\r\n                        required\r\n                        value={author}\r\n                        onChange={e => setAuthor(e.target.value)} />\r\n                </div>\r\n                <div className=\"inputBlock\">\r\n                    <label htmlFor=\"message\">Mensagem: </label>\r\n                    <textarea name=\"message\"\r\n                        id=\"message\"\r\n                        required\r\n                        value={message}\r\n                        onChange={e => setDailyMessage(e.target.value)} />\r\n                </div>\r\n                <div className=\"inputBlock\">\r\n                    <label htmlFor=\"date\">Data: </label>\r\n                    <input type=\"date\"\r\n                        id=\"date\"\r\n                        name=\"date\"\r\n                        required\r\n                        value={date}\r\n                        onChange={e => setDateMessage(e.target.value)} />\r\n                </div>\r\n                <button type=\"submit\">Salvar</button>\r\n            </form>\r\n        </>\r\n    )\r\n};\r\n\r\nexport default MessageForm;","import React from 'react';\r\nimport './style.css'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faTrashAlt, faPencilAlt } from '@fortawesome/free-solid-svg-icons'\r\nimport dateFormat from '../../utils/momentDateFormat';\r\n\r\nfunction MessageItem({ data, deleteDailyMessage, editRow }) {\r\n\r\n    function dateMessageFormat(date) {\r\n        return dateFormat(date, 'DD/MM/YYYY');\r\n    }\r\n\r\n    function handleDeleteMessage(e) {\r\n        e.preventDefault();\r\n\r\n        deleteDailyMessage(data.id);\r\n    }\r\n\r\n    function handleEditMessage(e) {\r\n        e.preventDefault();\r\n\r\n        editRow(data);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <li className=\"content-block\">\r\n                <div className=\"edit-delete-bar\">\r\n                    <div className=\"editDiv\">\r\n                        <a type=\"submit\" href=\"/\" onClick={handleEditMessage}>\r\n                            <FontAwesomeIcon icon={faPencilAlt} className=\"iconHover\" />\r\n                        </a>\r\n                    </div>\r\n                    <div className=\"deleteDiv\">\r\n                        <a type=\"submit\" href=\"/\" onClick={handleDeleteMessage}>\r\n                            <FontAwesomeIcon icon={faTrashAlt} className=\"iconHover\" />\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n                <p>{data.message}</p>\r\n                <span name=\"spanAuthor\">{data.author}</span>\r\n                <span name=\"spanDate\">{dateMessageFormat(data.date)}</span>\r\n            </li>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default MessageItem;","import axios from 'axios';\r\n\r\nconst api = axios.create({\r\n    baseURL: 'https://mensagemdiaria-webapi.azurewebsites.net/v1/dailymessages'\r\n});\r\n\r\nexport default api;","import React, { useState, useEffect } from 'react';\nimport EditMessageForm from './components/MessageForm/EditMessageForm';\nimport AddMessageForm from './components/MessageForm/AddMessageForm';\nimport MessageItem from './components/MessageItem/index';\nimport api from './services/api';\n\nimport './Global.css';\nimport './App.css';\nimport './Main.css';\n\n\nfunction App() {\n  const [dailyMessages, setDailyMessages] = useState([]);\n  const [editing, setEditing] = useState(false);\n  const initialFormState = { _id: null, author: '', dailyMessage: '', dateMessage: '' }\n  const [currentDailyMessage, setCurrentDailyMessage] = useState(initialFormState)\n\n  useEffect(() => {\n    async function loadDailyMessages() {\n      const response = await api.get('/');\n\n      setDailyMessages(response.data);\n    }\n\n    loadDailyMessages();\n  })\n\n  async function addDailyMessage(data) {\n    const response = await api.post('/', {\n      'author': data.author,\n      'message': data.message,\n      'date': data.date\n    })\n\n    setDailyMessages([...dailyMessages, response.data]);\n  }\n\n  async function deleteDailyMessage(id) {\n    await api.delete(`/${id}`);\n\n    setDailyMessages(dailyMessages.filter(dm => dm.id !== id));\n    setEditing(false);\n  }\n\n  async function updateDailyMessage(id, updatedDailyMessage) {\n    await api.put(`/${id}`, {\n      'author': updatedDailyMessage.author,\n      'message': updatedDailyMessage.message,\n      'date': updatedDailyMessage.date\n    });\n\n    setDailyMessages(dailyMessages.map(dm => (dm.id === id ? updatedDailyMessage : dm)))\n  }\n\n  function editRow(editingDailyMessage) {\n    setEditing(true)\n    setCurrentDailyMessage({\n      id: editingDailyMessage.id,\n      author: editingDailyMessage.author,\n      date: editingDailyMessage.date,\n      message: editingDailyMessage.message\n    })\n  }\n\n  return (\n    <>\n      <div id=\"app\">\n        <main>\n          <div className=\"topBox\">\n            <strong>Cadastro de Mensagem Diária</strong>\n            {!editing ?\n              (<>\n                <AddMessageForm addDailyMessage={addDailyMessage}></AddMessageForm>\n              </>\n              ) : (\n                <EditMessageForm\n                  updateDailyMessage={updateDailyMessage}\n                  setCurrentDailyMessage={setCurrentDailyMessage}\n                  currentDailyMessage={currentDailyMessage}\n                  setEditing={setEditing}></EditMessageForm>\n              )}\n          </div>\n        </main>\n        <div className=\"content\">\n          <ul>\n            {\n              dailyMessages.map(item => (\n                <MessageItem key={item.id} data={item} deleteDailyMessage={deleteDailyMessage} editRow={editRow}></MessageItem>\n              ))}\n          </ul>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}