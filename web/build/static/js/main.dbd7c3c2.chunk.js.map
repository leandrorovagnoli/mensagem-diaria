{"version":3,"sources":["utils/momentDateFormat.js","components/MessageForm/EditMessageForm.js","components/MessageForm/AddMessageForm.js","components/MessageItem/index.js","services/api.js","App.js","index.js"],"names":["dateFormat","date","pattern","newDate","substring","moment","locale","format","EditMessageForm","updateDailyMessage","currentDailyMessage","setCurrentDailyMessage","setEditing","useState","author","setAuthor","dailyMessage","setDailyMessage","dateMessage","setDateMessage","useEffect","name","onSubmit","e","preventDefault","_id","className","htmlFor","type","id","required","value","onChange","target","maxLength","MessageForm","addDailyMessage","MessageItem","data","deleteDailyMessage","editRow","href","onClick","icon","faPencilAlt","faTrashAlt","api","axios","create","baseURL","App","dailyMessages","setDailyMessages","editing","a","async","delete","filter","dm","editingDailyMessage","get","response","loadDailyMessages","updatedDailyMessage","put","map","AddMessageForm","post","item","key","ReactDOM","render","document","getElementById"],"mappings":"4UAUeA,MARf,SAAoBC,EAAMC,GACtB,IAAKD,EACD,MAAO,GAEX,IAAME,EAAUF,EAAKG,UAAU,EAAG,IAClC,OAAOC,IAAOF,GAASG,OAAO,SAASC,OAAOL,ICmEnCM,MAtEf,YAA2G,IA8B5EP,EA9BJQ,EAA+E,EAA/EA,mBAA4CC,GAAmC,EAA3DC,uBAA2D,EAAnCD,qBAAqBE,EAAc,EAAdA,WAAc,EAC1EC,mBAASH,EAAoBI,QAD6C,mBAC/FA,EAD+F,KACvFC,EADuF,OAE9DF,mBAASH,EAAoBM,cAFiC,mBAE/FA,EAF+F,KAEjFC,EAFiF,OAGhEJ,mBAASH,EAAoBQ,aAHmC,mBAG/FA,EAH+F,KAGlFC,EAHkF,KAkCtG,OA7BAC,qBAAU,WACNH,EAAgBP,EAAoBM,cACpCD,EAAUL,EAAoBI,QAC9BK,EAAeT,EAAoBQ,eAEnC,CAACR,IAyBD,oCACI,0BAAMW,KAAK,aAAaC,SAxBhC,SAA4BC,GACxBA,EAAEC,iBAEFf,EAAmBC,EAAoBe,IACnC,CACIA,IAAKf,EAAoBe,IACzBX,SACAE,eACAE,gBAGRN,GAAW,GACXG,EAAU,IACVE,EAAgB,IAChBE,EAAe,MAWP,yBAAKO,UAAU,cACX,2BAAOC,QAAQ,UAAf,WACA,2BAAOC,KAAK,OACRC,GAAG,SACHR,KAAK,SACLS,UAAQ,EACRC,MAAOjB,EACPkB,SAAU,SAAAT,GAAC,OAAIR,EAAUQ,EAAEU,OAAOF,WAE1C,yBAAKL,UAAU,cACX,2BAAOC,QAAQ,gBAAf,cACA,8BAAUN,KAAK,eACXQ,GAAG,eACHC,UAAQ,EACRC,MAAOf,EACPgB,SAAU,SAAAT,GAAC,OAAIN,EAAgBM,EAAEU,OAAOF,WAEhD,yBAAKL,UAAU,cACX,2BAAOC,QAAQ,eAAf,UACA,2BAAOC,KAAK,OACRM,UAAU,KACVL,GAAG,cACHR,KAAK,cACLS,UAAQ,EACRC,OA/BO9B,EA+BkBiB,EA9BlClB,EAAWC,EAAM,eA+BR+B,SAAU,SAAAT,GAAC,OAAIJ,EAAeI,EAAEU,OAAOF,WAE/C,4BAAQH,KAAK,UAAb,aCXDO,MAtDf,YAA2C,IAApBC,EAAmB,EAAnBA,gBAAmB,EACVvB,mBAAS,IADC,mBAC/BC,EAD+B,KACvBC,EADuB,OAEEF,mBAAS,IAFX,mBAE/BG,EAF+B,KAEjBC,EAFiB,OAGAJ,mBAAS,IAHT,mBAG/BK,EAH+B,KAGlBC,EAHkB,KAmBtC,OACI,oCACI,0BAAME,KAAK,aAAaC,SAhBhC,SAAyBC,GACrBA,EAAEC,iBAEFY,EAAgB,CACZtB,SACAE,eACAE,gBAGJH,EAAU,IACVE,EAAgB,IAChBE,EAAe,MAMP,yBAAKO,UAAU,cACX,2BAAOC,QAAQ,UAAf,WACA,2BAAOC,KAAK,OACRC,GAAG,SACHR,KAAK,SACLS,UAAQ,EACRC,MAAOjB,EACPkB,SAAU,SAAAT,GAAC,OAAIR,EAAUQ,EAAEU,OAAOF,WAE1C,yBAAKL,UAAU,cACX,2BAAOC,QAAQ,WAAf,cACA,8BAAUN,KAAK,UACXQ,GAAG,UACHC,UAAQ,EACRC,MAAOf,EACPgB,SAAU,SAAAT,GAAC,OAAIN,EAAgBM,EAAEU,OAAOF,WAEhD,yBAAKL,UAAU,cACX,2BAAOC,QAAQ,QAAf,UACA,2BAAOC,KAAK,OACRC,GAAG,OACHR,KAAK,OACLS,UAAQ,EACRC,MAAOb,EACPc,SAAU,SAAAT,GAAC,OAAIJ,EAAeI,EAAEU,OAAOF,WAE/C,4BAAQH,KAAK,UAAb,a,sBCJDS,MAzCf,YAA6D,IAE9BpC,EAFRqC,EAAqC,EAArCA,KAAMC,EAA+B,EAA/BA,mBAAoBC,EAAW,EAAXA,QAkB7C,OACI,oCACI,wBAAId,UAAU,iBACV,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,WACX,uBAAGE,KAAK,SAASa,KAAK,IAAIC,QAX9C,SAA2BnB,GACvBA,EAAEC,iBAEFgB,EAAQF,KASY,kBAAC,IAAD,CAAiBK,KAAMC,IAAalB,UAAU,gBAGtD,yBAAKA,UAAU,aACX,uBAAGE,KAAK,SAASa,KAAK,IAAIC,QAtB9C,SAA6BnB,GACzBA,EAAEC,iBAEFe,EAAmBD,EAAKb,OAoBJ,kBAAC,IAAD,CAAiBkB,KAAME,IAAYnB,UAAU,iBAIzD,2BAAIY,EAAKtB,cACT,0BAAMK,KAAK,cAAciB,EAAKxB,QAC9B,0BAAMO,KAAK,aAjCIpB,EAiC0BqC,EAAKpB,YAhC/ClB,EAAWC,EAAM,mB,QCHjB6C,E,OAJHC,EAAMC,OAAO,CACrBC,QAAS,4C,kBCqFEC,MA7Ef,WAAgB,IAAD,EAC6BrC,mBAAS,IADtC,mBACNsC,EADM,KACSC,EADT,OAEiBvC,oBAAS,GAF1B,mBAENwC,EAFM,KAEGzC,EAFH,OAIyCC,mBAD7B,CAAEY,IAAK,KAAMX,OAAQ,GAAIE,aAAc,GAAIE,YAAa,KAHpE,mBAINR,EAJM,KAIeC,EAJf,KAsBb,SAAe4B,EAAmBV,GAAlC,SAAAyB,EAAAC,OAAA,kEAAAD,EAAA,MACQR,EAAIU,OAAJ,oBAAwB3B,KADhC,OAGEuB,EAAiBD,EAAcM,QAAO,SAAAC,GAAE,OAAIA,EAAG7B,KAAOA,MACtDjB,GAAW,GAJb,qCAaA,SAAS4B,EAAQmB,GACf/C,GAAW,GACXD,EAAuB,CACrBc,IAAKkC,EAAoBlC,IACzBX,OAAQ6C,EAAoB7C,OAC5BI,YAAayC,EAAoBzC,YACjCF,aAAc2C,EAAoB3C,eAItC,OAvCAI,qBAAU,YACR,mBAAAkC,EAAAC,OAAA,kEAAAD,EAAA,MACyBR,EAAIc,IAAI,MADjC,OACQC,EADR,OAGET,EAAiBS,EAASvB,MAH5B,qCAMAwB,MAiCA,oCACE,yBAAKjC,GAAG,OACN,8BACE,yBAAKH,UAAU,UACb,kEACE2B,EAKE,kBAAC,EAAD,CACE5C,mBA5BhB,SAAkCoB,EAAIkC,GAAtC,SAAAT,EAAAC,OAAA,kEAAAD,EAAA,MACQR,EAAIkB,IAAJ,oBAAqBnC,GAAMkC,IADnC,OAGEX,EAAiBD,EAAcc,KAAI,SAAAP,GAAE,OAAKA,EAAGjC,MAAQI,EAAKkC,EAAsBL,MAHlF,sCA6BgB/C,uBAAwBA,EACxBD,oBAAqBA,EACrBE,WAAYA,IARf,oCACC,kBAACsD,EAAD,CAAgB9B,gBArC9B,SAA+BE,GAA/B,eAAAgB,EAAAC,OAAA,kEAAAD,EAAA,MACyBR,EAAIqB,KAAK,IAAK7B,IADvC,OACQuB,EADR,OAGET,EAAiB,GAAD,mBAAKD,GAAL,CAAoBU,EAASvB,QAH/C,2CAgDM,yBAAKZ,UAAU,WACb,4BAEIyB,EAAcc,KAAI,SAAAG,GAAI,OACpB,kBAAC,EAAD,CAAaC,IAAKD,EAAK3C,IAAKa,KAAM8B,EAAM7B,mBAAoBA,EAAoBC,QAASA,YC3EzG8B,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.dbd7c3c2.chunk.js","sourcesContent":["import moment from 'moment';\r\n\r\nfunction dateFormat(date, pattern) {\r\n    if (!date)\r\n        return '';\r\n\r\n    const newDate = date.substring(0, 10);\r\n    return moment(newDate).locale('pt-BR').format(pattern);\r\n}\r\n\r\nexport default dateFormat;","import React, { useState, useEffect } from 'react';\r\nimport './style.css';\r\nimport dateFormat from '../../utils/momentDateFormat';\r\n\r\nfunction EditMessageForm({ updateDailyMessage, setCurrentDailyMessage, currentDailyMessage, setEditing }) {\r\n    const [author, setAuthor] = useState(currentDailyMessage.author);\r\n    const [dailyMessage, setDailyMessage] = useState(currentDailyMessage.dailyMessage);;\r\n    const [dateMessage, setDateMessage] = useState(currentDailyMessage.dateMessage);\r\n\r\n    useEffect(() => {\r\n        setDailyMessage(currentDailyMessage.dailyMessage)\r\n        setAuthor(currentDailyMessage.author)\r\n        setDateMessage(currentDailyMessage.dateMessage)\r\n    },\r\n        [currentDailyMessage])\r\n\r\n    function handleUpdateSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        updateDailyMessage(currentDailyMessage._id,\r\n            {\r\n                _id: currentDailyMessage._id,\r\n                author,\r\n                dailyMessage,\r\n                dateMessage\r\n            });\r\n\r\n        setEditing(false);\r\n        setAuthor('');\r\n        setDailyMessage('');\r\n        setDateMessage('');\r\n        // setCurrentDailyMessage({});\r\n    }\r\n\r\n    function dateMessageFormat(date) {\r\n        return dateFormat(date, 'YYYY-MM-DD');\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <form name=\"topBoxForm\" onSubmit={handleUpdateSubmit}>\r\n                <div className=\"inputBlock\">\r\n                    <label htmlFor=\"author\">Autor: </label>\r\n                    <input type=\"text\"\r\n                        id=\"author\"\r\n                        name=\"author\"\r\n                        required\r\n                        value={author}\r\n                        onChange={e => setAuthor(e.target.value)} />\r\n                </div>\r\n                <div className=\"inputBlock\">\r\n                    <label htmlFor=\"dailyMessage\">Mensagem: </label>\r\n                    <textarea name=\"dailyMessage\"\r\n                        id=\"dailyMessage\"\r\n                        required\r\n                        value={dailyMessage}\r\n                        onChange={e => setDailyMessage(e.target.value)} />\r\n                </div>\r\n                <div className=\"inputBlock\">\r\n                    <label htmlFor=\"dateMessage\">Data: </label>\r\n                    <input type=\"Date\"\r\n                        maxLength=\"10\"\r\n                        id=\"dateMessage\"\r\n                        name=\"dateMessage\"\r\n                        required\r\n                        value={dateMessageFormat(dateMessage)}\r\n                        onChange={e => setDateMessage(e.target.value)} />\r\n                </div>\r\n                <button type=\"submit\">Salvar</button>\r\n            </form>\r\n        </>\r\n    )\r\n};\r\n\r\nexport default EditMessageForm;","import React, { useState } from 'react';\r\nimport './style.css';\r\n\r\nfunction MessageForm({ addDailyMessage }) {\r\n    const [author, setAuthor] = useState('');\r\n    const [dailyMessage, setDailyMessage] = useState('');;\r\n    const [dateMessage, setDateMessage] = useState('');\r\n\r\n    function handleAddSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        addDailyMessage({\r\n            author,\r\n            dailyMessage,\r\n            dateMessage\r\n        });\r\n\r\n        setAuthor('');\r\n        setDailyMessage('');\r\n        setDateMessage('');\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <form name=\"topBoxForm\" onSubmit={handleAddSubmit}>\r\n                <div className=\"inputBlock\">\r\n                    <label htmlFor=\"author\">Autor: </label>\r\n                    <input type=\"text\"\r\n                        id=\"author\"\r\n                        name=\"author\"\r\n                        required\r\n                        value={author}\r\n                        onChange={e => setAuthor(e.target.value)} />\r\n                </div>\r\n                <div className=\"inputBlock\">\r\n                    <label htmlFor=\"message\">Mensagem: </label>\r\n                    <textarea name=\"message\"\r\n                        id=\"message\"\r\n                        required\r\n                        value={dailyMessage}\r\n                        onChange={e => setDailyMessage(e.target.value)} />\r\n                </div>\r\n                <div className=\"inputBlock\">\r\n                    <label htmlFor=\"date\">Data: </label>\r\n                    <input type=\"date\"\r\n                        id=\"date\"\r\n                        name=\"date\"\r\n                        required\r\n                        value={dateMessage}\r\n                        onChange={e => setDateMessage(e.target.value)} />\r\n                </div>\r\n                <button type=\"submit\">Salvar</button>\r\n            </form>\r\n        </>\r\n    )\r\n};\r\n\r\nexport default MessageForm;","import React from 'react';\r\nimport './style.css'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faTrashAlt, faPencilAlt } from '@fortawesome/free-solid-svg-icons'\r\nimport dateFormat from '../../utils/momentDateFormat';\r\n\r\nfunction MessageItem({ data, deleteDailyMessage, editRow }) {\r\n\r\n    function dateMessageFormat(date) {\r\n        return dateFormat(date, 'DD/MM/YYYY');\r\n    }\r\n\r\n    function handleDeleteMessage(e) {\r\n        e.preventDefault();\r\n\r\n        deleteDailyMessage(data._id);\r\n    }\r\n\r\n    function handleEditMessage(e) {\r\n        e.preventDefault();\r\n\r\n        editRow(data);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <li className=\"content-block\">\r\n                <div className=\"edit-delete-bar\">\r\n                    <div className=\"editDiv\">\r\n                        <a type=\"submit\" href=\"/\" onClick={handleEditMessage}>\r\n                            <FontAwesomeIcon icon={faPencilAlt} className=\"iconHover\" />\r\n                        </a>\r\n                    </div>\r\n                    <div className=\"deleteDiv\">\r\n                        <a type=\"submit\" href=\"/\" onClick={handleDeleteMessage}>\r\n                            <FontAwesomeIcon icon={faTrashAlt} className=\"iconHover\" />\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n                <p>{data.dailyMessage}</p>\r\n                <span name=\"spanAuthor\">{data.author}</span>\r\n                <span name=\"spanDate\">{dateMessageFormat(data.dateMessage)}</span>\r\n            </li>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default MessageItem;","import axios from 'axios';\r\n\r\nconst api = axios.create({\r\n    baseURL: 'http://localhost:44350/v1/dailymessages'\r\n});\r\n\r\nexport default api;","import React, { useState, useEffect } from 'react';\nimport EditMessageForm from './components/MessageForm/EditMessageForm';\nimport AddMessageForm from './components/MessageForm/AddMessageForm';\nimport MessageItem from './components/MessageItem/index';\nimport api from './services/api';\n\nimport './Global.css';\nimport './App.css';\nimport './Main.css';\n\n\nfunction App() {\n  const [dailyMessages, setDailyMessages] = useState([]);\n  const [editing, setEditing] = useState(false);\n  const initialFormState = { _id: null, author: '', dailyMessage: '', dateMessage: '' }\n  const [currentDailyMessage, setCurrentDailyMessage] = useState(initialFormState)\n\n  useEffect(() => {\n    async function loadDailyMessages() {\n      const response = await api.get('/');\n\n      setDailyMessages(response.data);\n    }\n\n    loadDailyMessages();\n  })\n\n  async function addDailyMessage(data) {\n    const response = await api.post('/', data)\n\n    setDailyMessages([...dailyMessages, response.data]);\n  }\n\n  async function deleteDailyMessage(id) {\n    await api.delete(`/mensagem/${id}`);\n\n    setDailyMessages(dailyMessages.filter(dm => dm.id !== id));\n    setEditing(false);\n  }\n\n  async function updateDailyMessage(id, updatedDailyMessage) {\n    await api.put(`/mensagem/${id}`, updatedDailyMessage);\n\n    setDailyMessages(dailyMessages.map(dm => (dm._id === id ? updatedDailyMessage : dm)))\n  }\n\n  function editRow(editingDailyMessage) {\n    setEditing(true)\n    setCurrentDailyMessage({\n      _id: editingDailyMessage._id,\n      author: editingDailyMessage.author,\n      dateMessage: editingDailyMessage.dateMessage,\n      dailyMessage: editingDailyMessage.dailyMessage\n    })\n  }\n\n  return (\n    <>\n      <div id=\"app\">\n        <main>\n          <div className=\"topBox\">\n            <strong>Cadastro de Mensagem Di√°ria</strong>\n            {!editing ?\n              (<>\n                <AddMessageForm addDailyMessage={addDailyMessage}></AddMessageForm>\n              </>\n              ) : (\n                <EditMessageForm\n                  updateDailyMessage={updateDailyMessage}\n                  setCurrentDailyMessage={setCurrentDailyMessage}\n                  currentDailyMessage={currentDailyMessage}\n                  setEditing={setEditing}></EditMessageForm>\n              )}\n          </div>\n        </main>\n        <div className=\"content\">\n          <ul>\n            {\n              dailyMessages.map(item => (\n                <MessageItem key={item._id} data={item} deleteDailyMessage={deleteDailyMessage} editRow={editRow}></MessageItem>\n              ))}\n          </ul>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}